@startuml

' Перечисление для статуса экземпляра книги
enum Статус {
  Доступна
  Выдана
  Забронирована
}

' Класс Человек (базовый)
class Человек {
  + ФИО: string
  + дата_рождения: date
  + пол: string
}

' Класс Читатель (наследует от Человека)
class Читатель {
  + статус_задолженности: boolean
}

' Класс Библиотекарь (наследует от Человека)
class Библиотекарь {
  + список_обработанных_выдач: List<ВыдачаКниги>
}

' Класс Администратор (наследует от Библиотекаря)
class Администратор {
  + список_управляемых_отчётов: List<Отчёт>
}

' Класс Книга
class Книга {
  + название: string
  + автор: string
  + ISBN: string
  + жанр: string
  + год_издания: int
}

' Класс ЭкземплярКниги
class ЭкземплярКниги {
  + уникальный_инвентарный_номер: int
  + статус: Статус
}

' Класс ВыдачаКниги
class ВыдачаКниги {
  + дата_выдачи: date
  + дата_возврата: date
}

' Класс Бронирование
class Бронирование {
  + дата_бронирования: date
  + срок_действия: date
}

' Класс Штраф
class Штраф {
  + сумма: double
  + дата_начисления: date
}

' Класс Отчёт
class Отчёт {
  + дата_создания: date
  + тип: string
}

' Наследование
Человек <|-- Читатель
Человек <|-- Библиотекарь
Библиотекарь <|-- Администратор

' Ассоциации и композиции
Читатель -- "1" *--> "0..*" ВыдачаКниги : имеет выдачи
Читатель -- "1" *--> "0..*" Бронирование : имеет бронирования
Читатель -- "1" *--> "0..*" Штраф : имеет штрафы

Библиотекарь -- "1" *--> "0..*" ВыдачаКниги : обрабатывает выдачи
Библиотекарь -- "1" *--> "0..*" Бронирование : обрабатывает бронирования
Библиотекарь -- "1" *--> "0..*" Штраф : начисляет штрафы

Администратор -- "1" *--> "0..*" Отчёт : управляет отчётами

Книга -- "1" *--> "1..*" ЭкземплярКниги : состоит из экземпляров

ВыдачаКниги -- "1" --> "1" ЭкземплярКниги : включает экземпляр
ВыдачаКниги -- "1" --> "1" Читатель : выдаётся читателю

Бронирование -- "1" --> "1" ЭкземплярКниги : касается экземпляра
Бронирование -- "1" --> "1" Читатель : создаётся читателем

Штраф -- "1" --> "1" Читатель : начисляется читателю

Отчёт -- "1" --> "*" Книга : может включать книги
Отчёт -- "1" --> "*" Читатель : может включать читателей
Отчёт -- "1" --> "*" ВыдачаКниги : может включать выдачи
Отчёт -- "1" --> "*" Бронирование : может включать бронирования
Отчёт -- "1" --> "*" Штраф : может включать штрафы

@enduml

