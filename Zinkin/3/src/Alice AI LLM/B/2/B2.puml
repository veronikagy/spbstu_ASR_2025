@startuml

' Стили для улучшения читаемости
skinparam classAttributeIconSize 0
skinparam packageStyle rectangle

' Классы системы

class Человек {
  + id: int
  + имя: String
  + фамилия: String
  + email: String
  + телефон: String
  + адрес: String
}

class Читатель {
  + номер_читательского: String
  + дата_регистрации: Date
  + статус: String
  + лимит_книг: int
  + взятьКнигу(книга: Книга): boolean
  + вернутьКнигу(выдача: Выдача): boolean
  + проверитьЗадолженности(): List<Выдача>
}

class Библиотекарь {
  + должность: String
  + график_работы: String
  + оформитьВыдачу(читатель: Читатель, книга: Книга): Выдача
  + оформитьВозврат(выдача: Выдача): void
  + найтиКнигу(название: String): List<Книга>
}

class Администратор {
  + уровень_доступа: int
  + добавитьКнигу(книга: Книга): void
  + удалитьКнигу(книга: Книга): void
  + управлятьПользователями(): void
  + генерироватьОтчеты(): Report
}

class Книга {
  + isbn: String
  + название: String
  + автор: String
  + издательство: String
  + год_издания: int
  + жанр: String
  + количество_экземпляров: int
  + доступное_количество: int
  + получитьСтатус(): String
}

class Выдача {
  + id: int
  + дата_выдачи: Date
  + дата_возврата_планируемая: Date
  + дата_возврата_фактическая: Date
  + штраф: double
  + статус: String
  + продлитьСрок(): boolean
  + рассчитатьШтраф(): double
}

class Бронирование {
  + id: int
  + дата_бронирования: Date
  + срок_действия: Date
  + статус: String
  + подтвердитьБронирование(): boolean
  + отменитьБронирование(): boolean
}

class Отчет {
  + тип: String
  + период: DateRange
  + данные: Map<String, Object>
  + сформировать(): void
  + экспортировать(формат: String): File
}

' Связи между классами

Человек <|-- Читатель
Человек <|-- Библиотекарь
Человек <|-- Администратор

Читатель "1" -- "0..*" Выдача : имеет выдачи
Читатель "1" -- "0..*" Бронирование : имеет бронирования

Библиотекарь "1" -- "0..*" Выдача : оформляет выдачи
Библиотекарь "1" -- "0..*" Бронирование : управляет бронированиями

Администратор "1" -- "0..*" Книга : управляет книгами
Администратор "1" -- "0..*" Читатель : управляет читателями
Администратор "1" -- "0..*" Отчет : формирует отчеты

Книга "1" -- "0..*" Выдача : участвует в выдаче
Книга "1" -- "0..*" Бронирование : может быть забронирована

Выдача "1" --> Книга : ссылается на
Выдача "1" --> Читатель : относится к

Бронирование "1" --> Книга : относится к
Бронирование "1" --> Читатель : создано читателем

@enduml

