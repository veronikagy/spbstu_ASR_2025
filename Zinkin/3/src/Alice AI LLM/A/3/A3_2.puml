@startuml
left to right direction

' Граница системы
rectangle "Система управления библиотекой" {

  ' Действующие лица (акторы)
  actor Читатель as Reader
  actor Библиотекарь as Librarian
  actor Администратор as Admin

  ' Варианты использования
  usecase "Поиск книг" as UC1
  usecase "Просмотр каталога" as UC2
  usecase "Бронирование книги" as UC3
  usecase "Продление срока" as UC4
  usecase "Управление избранными" as UC5
  usecase "Оформление выдачи" as UC6
  usecase "Приём возврата" as UC7
  usecase "Создание отчётов" as UC8
  usecase "Работа с каталогом" as UC9
  usecase "Контроль каталога" as UC10
  usecase "Просмотр системной информации" as UC11
  usecase "Доступ к отчётам" as UC12

  ' Связи акторов с вариантами использования (без <<include>>)
  Reader --> UC1
  Reader --> UC2
  Reader --> UC3
  Reader --> UC4
  Reader --> UC5

  Librarian --> UC6
  Librarian --> UC7
  Librarian --> UC8
  Librarian --> UC9

  Admin --> UC10
  Admin --> UC11
  Admin --> UC12

  ' Корректные отношения <<include>> между вариантами использования
  UC3 --> UC2 : <<include>>  ' Бронирование включает просмотр каталога
  UC4 --> UC3 : <<include>>  ' Продление предполагает, что книга была забронирована
  UC6 --> UC3 : <<include>>  ' Оформление выдачи включает проверку бронирования
  UC7 --> UC6 : <<include>>  ' Приём возврата ссылается на факт выдачи
  UC8 --> UC12 : <<include>>  ' Создание отчётов включает доступ к ним
  UC9 --> UC10 : <<include>>  ' Работа с каталогом включает его контроль

  ' Дополнительное отношение <<extend>> (опциональное расширение)
  UC10 -right-> UC9 : <<extend>>  ' Контроль каталога может расширять работу с каталогом (обратная связь)
}

@enduml

