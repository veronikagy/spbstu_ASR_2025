@startuml

' --- Классы, не связанные с наследованием ---
class Книга {
  -isbn: String
  -название: String
  -автор: String
  -годИздания: int
  -доступна: boolean
  +взять()
  +вернуть()
}

class Штраф {
  -сумма: double
  -причина: String
  -датаНачисления: Date
  -погашен: boolean
  +погасить()
}

class Отчёт {
  -датаГенерации: Date
  -тип: String
  +сгенерировать()
}

' --- Иерархия наследования: Человек ---
class Человек {
  #id: int
  #имя: String
  #email: String
}

class Читатель {
  -номерЧитательскогоБилета: String
  -текущиеШтрафы: double
  +забронироватьКнигу()
  +аннулироватьБронирование()
}

class Библиотекарь {
  -табельныйНомер: String
  +оформитьВыдачу()
  +зарегистрироватьВозврат()
  +начислитьШтраф()
}

class Администратор {
  +управлятьПользователями()
  +генерироватьОтчёт()
  +изменятьСистемныеНастройки()
}

' --- Связи наследования ---
Человек <|-- Читатель
Человек <|-- Библиотекарь
Библиотекарь <|-- Администратор

' --- Ассоциации и другие связи ---

' Ассоциация между Читатель и Книга (Выдача)
Читатель "1" -- "*" Книга : "берет в аренду"

' Ассоциация-класс для Выдачи
class Выдача {
  -датаВыдачи: Date
  -срокВозврата: Date
  -датаФактВозврата: Date
  +продлить()
}
Читатель "1" -- "*" Выдача
Выдача "*" -- "1" Книга

' Ассоциация между Библиотекарь и Выдача
Библиотекарь "1" -- "*" Выдача : "оформляет"

' Ассоциация между Читатель и Штраф
Читатель "1" -- "*" Штраф : "имеет"

' Ассоциация между Библиотекарь и Штраф
Библиотекарь "1" -- "*" Штраф : "начисляет"

' Композиция: Бронирование не существует без Читателя и Книги
class Бронирование {
  -датаБронирования: Date
  -статус: String
  -срокДействия: Date
  +аннулировать()
}
Читатель "1" *-- "*" Бронирование
Книга "1" *-- "*" Бронирование

' Агрегация: Отчет может существовать без Администратора, но создается им
Администратор "1" --o "*" Отчёт : "создает"

@enduml
