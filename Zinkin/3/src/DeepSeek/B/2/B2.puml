@startuml

' Определение классов

class Человек {
  # id: Long
  # имя: String
  # email: String
  # телефон: String
  + Человек()
  + получитьИнфо(): String
}

class Читатель {
  - номерЧитательскогоБилета: String
  - адрес: String
  - статусАктивен: Boolean
  + зарегистрироваться()
  + забронироватьКнигу(книга: Книга)
  + продлитьКнигу(выдача: Выдача)
  + найтиКнигу(название: String): List<Книга>
}

class Сотрудник {
  # номерСотрудника: String
  # датаНайма: Date
}

class Библиотекарь {
  + оформитьВыдачу(читатель: Читатель, книга: Книга): Выдача
  + принятьВозврат(выдача: Выдача)
  + зарегистрироватьЧитателя(данные: Читатель)
}

class Администратор {
  + добавитьКнигу(книга: Книга)
  + удалитьКнигу(книга: Книга)
  + управлятьПользователем(пользователь: Человек)
  + сгенерироватьОтчет(период: Date): Отчет
}

class Книга {
  - isbn: String
  - название: String
  - автор: String
  - издатель: String
  - годИздания: int
  - жанр: String
  - количествоСтраниц: int
  - доступноДляВыдачи: Boolean
  + обновитьСтатус(статус: Boolean)
  + получитьИнфо(): String
}

class Автор {
  - имя: String
  - страна: String
  - датаРождения: Date
  + получитьБиблиографию(): List<Книга>
}

class Выдача {
  - id: Long
  - датаВыдачи: Date
  - ожидаемаяДатаВозврата: Date
  - фактическаяДатаВозврата: Date
  - статус: String (АКТИВНА, ЗАВЕРШЕНА, ПРОСРОЧЕНА)
  + рассчитатьШтраф(): BigDecimal
  + продлить(новыйСрок: Date)
}

class Бронирование {
  - id: Long
  - датаБронирования: Date
  - датаИстеченияБрони: Date
  - статус: String (АКТИВНА, ВЫПОЛНЕНА, ОТМЕНЕНА)
  + отменить()
}

class Отчет {
  - датаСоздания: Date
  - тип: String
  - данные: String
  + сгенерировать()
  + экспортировать(формат: String)
}

' Наследование
Человек <|-- Читатель
Человек <|-- Сотрудник
Сотрудник <|-- Библиотекарь
Сотрудник <|-- Администратор

' Ассоциации и связи
Читатель "1" -- "*" Выдача : имеет
Библиотекарь "1" -- "*" Выдача : оформляет

Читатель "1" -- "*" Бронирование : создает
Книга "1" -- "*" Бронирование : бронируется

Книга "1" -- "*" Выдача : выдается

' Композиция/Агрегация (Выдача и Бронирование не могут существовать без Читателя и Книги)
Читатель *-- Выдача
Книга *-- Выдача
Читатель *-- Бронирование
Книга *-- Бронирование

' Связь многие-ко-многим между Книга и Автор
Книга "1..*" -- "1..*" Автор : написана

' Связь Администратора с Отчетом (Агрегация)
Администратор "1" --> "*" Отчет : генерирует

@enduml
