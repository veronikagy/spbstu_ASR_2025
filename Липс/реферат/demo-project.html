
<!--
Запуск: сохраните этот код в файл index.html и просто откройте его в браузере.
Одностраничный лендинг-резюме проекта (HTML+CSS+JS) без внешних зависимостей.
-->
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Улучшение диффузной модели Ca²⁺ в дендритном шипике — портфолио проекта</title>
  <style>
    /* =========================
      CSS: Design System (Variables)
    ========================== */
    :root{
      --accent: #2F6BFF;
      --accent-2: #1E4FD9;
      --bg: #ffffff;
      --bg-elev: #f6f7fb;
      --text: #0f172a;
      --muted: #475569;
      --border: rgba(15, 23, 42, .12);
      --shadow: 0 10px 30px rgba(2, 6, 23, .08);
      --shadow-sm: 0 6px 16px rgba(2, 6, 23, .07);
      --focus: 0 0 0 3px rgba(47,107,255,.35);
      --radius: 16px;
      --radius-sm: 12px;
      --container: 1120px;
      --gap: 18px;
      --header-h: 64px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --trans: 160ms ease;
    }

    [data-theme="dark"]{
      --bg: #0b1220;
      --bg-elev: #111a2d;
      --text: #e5eaf5;
      --muted: #a5b4cf;
      --border: rgba(229, 234, 245, .14);
      --shadow: 0 14px 40px rgba(0, 0, 0, .35);
      --shadow-sm: 0 10px 22px rgba(0, 0, 0, .30);
      --focus: 0 0 0 3px rgba(47,107,255,.38);
    }

    /* =========================
      CSS: Base / Typography
    ========================== */
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body{
      margin: 0;
      font-family: var(--font);
      background: radial-gradient(1200px 800px at 20% -10%, rgba(47,107,255,.12), transparent 55%),
                  radial-gradient(1000px 700px at 110% 10%, rgba(47,107,255,.10), transparent 50%),
                  var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    a{ color: inherit; text-decoration: none; }
    p{ margin: 0; color: var(--muted); }
    h1, h2, h3{ margin: 0; line-height: 1.2; letter-spacing: -0.02em; }
    h1{ font-size: clamp(1.65rem, 1.2rem + 2vw, 2.5rem); }
    h2{ font-size: clamp(1.25rem, 1.08rem + 1.2vw, 1.75rem); }
    h3{ font-size: 1.05rem; }
    .u-sr{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
    .u-mt-xs{ margin-top: 8px; }
    .u-mt-sm{ margin-top: 12px; }
    .u-mt-md{ margin-top: 16px; }
    .u-mt-lg{ margin-top: 22px; }
    .u-mt-xl{ margin-top: 30px; }
    .u-mb-sm{ margin-bottom: 12px; }
    .u-mono{ font-family: var(--mono); }
    .u-accent{ color: var(--accent); }
    .u-nowrap{ white-space: nowrap; }

    /* =========================
      CSS: Layout
    ========================== */
    .l-container{
      max-width: var(--container);
      margin: 0 auto;
      padding: 0 16px;
    }

    .l-grid{
      display: grid;
      gap: var(--gap);
    }

    .l-grid--2{
      grid-template-columns: 1fr;
    }

    .l-grid--3{
      grid-template-columns: 1fr;
    }

    @media (min-width: 768px){
      .l-grid--2{ grid-template-columns: 1.2fr .8fr; }
      .l-grid--3{ grid-template-columns: repeat(3, 1fr); }
    }

    @media (min-width: 1024px){
      .l-container{ padding: 0 22px; }
    }

    /* =========================
      CSS: Header / Nav
    ========================== */
    .header{
      position: sticky;
      top: 0;
      z-index: 50;
      height: var(--header-h);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      background: color-mix(in oklab, var(--bg) 80%, transparent);
      border-bottom: 1px solid var(--border);
    }

    .header__inner{
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 220px;
    }

    .brand__mark{
      width: 34px; height: 34px;
      border-radius: 10px;
      background:
        radial-gradient(10px 10px at 30% 30%, rgba(255,255,255,.85), rgba(255,255,255,0) 60%),
        linear-gradient(135deg, var(--accent), color-mix(in oklab, var(--accent) 55%, #00c2ff 45%));
      box-shadow: var(--shadow-sm);
      display:grid;
      place-items:center;
      border: 1px solid color-mix(in oklab, var(--accent) 45%, transparent);
    }

    .brand__mark svg{ width: 18px; height: 18px; fill: rgba(255,255,255,.95); }
    .brand__text{
      display:flex;
      flex-direction:column;
      gap: 2px;
    }
    .brand__title{
      font-weight: 700;
      font-size: 0.95rem;
      color: var(--text);
    }
    .brand__subtitle{
      font-size: 0.78rem;
      color: var(--muted);
    }

    .nav{
      display:flex;
      align-items:center;
      gap: 10px;
    }

    .nav__links{
      display:none;
      gap: 6px;
      align-items:center;
      padding: 4px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg-elev) 70%, transparent);
    }

    .nav__link{
      padding: 10px 12px;
      border-radius: 999px;
      color: var(--muted);
      font-weight: 600;
      font-size: 0.9rem;
      transition: background var(--trans), color var(--trans), transform var(--trans);
      outline: none;
    }
    .nav__link:hover{
      color: var(--text);
      background: color-mix(in oklab, var(--bg) 55%, transparent);
    }
    .nav__link:focus-visible{ box-shadow: var(--focus); }
    .nav__link.is-active{
      color: var(--text);
      background: color-mix(in oklab, var(--accent) 18%, var(--bg) 82%);
      border: 1px solid color-mix(in oklab, var(--accent) 35%, transparent);
    }

    .nav__actions{
      display:flex;
      align-items:center;
      gap: 8px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg-elev) 70%, transparent);
      color: var(--text);
      font-weight: 700;
      font-size: 0.92rem;
      cursor: pointer;
      transition: transform var(--trans), background var(--trans), border-color var(--trans);
      outline: none;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: color-mix(in oklab, var(--bg-elev) 85%, transparent);
    }
    .btn:active{ transform: translateY(0); }
    .btn:focus-visible{ box-shadow: var(--focus); }

    .btn--primary{
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      border-color: color-mix(in oklab, var(--accent) 70%, transparent);
      color: #fff;
      box-shadow: 0 12px 28px rgba(47,107,255,.25);
    }
    .btn--primary:hover{
      background: linear-gradient(135deg, color-mix(in oklab, var(--accent) 90%, #ffffff 10%), var(--accent-2));
    }

    .btn--icon{
      padding: 10px;
      width: 42px;
      height: 42px;
    }
    .btn__ico{
      width: 18px;
      height: 18px;
      fill: currentColor;
    }

    /* Burger + Mobile Drawer */
    .burger{
      display:inline-flex;
    }

    .drawer{
      position: fixed;
      inset: 0;
      z-index: 80;
      display: none;
      background: rgba(2,6,23,.55);
    }
    .drawer[aria-hidden="false"]{ display: block; }
    .drawer__panel{
      position: absolute;
      top: 0; right: 0;
      height: 100%;
      width: min(340px, 92vw);
      background: var(--bg);
      border-left: 1px solid var(--border);
      box-shadow: var(--shadow);
      transform: translateX(8px);
      animation: slideIn 160ms ease forwards;
      display:flex;
      flex-direction:column;
    }
    @keyframes slideIn { to { transform: translateX(0); } }
    .drawer__head{
      height: var(--header-h);
      display:flex;
      align-items:center;
      justify-content: space-between;
      padding: 0 16px;
      border-bottom: 1px solid var(--border);
    }
    .drawer__nav{
      padding: 14px 12px 18px;
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .drawer__nav a{
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid transparent;
      color: var(--muted);
      font-weight: 700;
      transition: background var(--trans), color var(--trans), border-color var(--trans);
      outline: none;
    }
    .drawer__nav a:hover{
      background: var(--bg-elev);
      color: var(--text);
    }
    .drawer__nav a:focus-visible{ box-shadow: var(--focus); }
    .drawer__nav a.is-active{
      background: color-mix(in oklab, var(--accent) 18%, var(--bg) 82%);
      color: var(--text);
      border-color: color-mix(in oklab, var(--accent) 35%, transparent);
    }
    .drawer__footer{
      margin-top:auto;
      padding: 14px 16px;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: 0.9rem;
    }

    @media (min-width: 1024px){
      .nav__links{ display:flex; }
      .burger{ display:none; }
    }

    /* =========================
      CSS: Sections / Cards
    ========================== */
    main{ padding-bottom: 56px; }
    section{
      scroll-margin-top: calc(var(--header-h) + 14px);
      padding: 36px 0;
    }

    .hero{
      padding: 34px 0 18px;
    }

    .hero__wrap{
      border: 1px solid var(--border);
      border-radius: calc(var(--radius) + 8px);
      background: linear-gradient(
        135deg,
        color-mix(in oklab, var(--bg-elev) 85%, transparent),
        color-mix(in oklab, var(--bg) 85%, transparent)
      );
      box-shadow: var(--shadow);
      padding: 22px;
      overflow:hidden;
      position: relative;
    }

    .hero__wrap::before{
      content:"";
      position:absolute;
      inset: -2px;
      background:
        radial-gradient(380px 220px at 10% 15%, rgba(47,107,255,.17), transparent 60%),
        radial-gradient(320px 240px at 85% 25%, rgba(47,107,255,.12), transparent 55%);
      pointer-events:none;
      opacity: .9;
    }

    .hero__content{ position: relative; z-index: 1; }

    .pill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 0.8rem;
      color: color-mix(in oklab, var(--accent) 85%, var(--text) 15%);
      border: 1px solid color-mix(in oklab, var(--accent) 35%, transparent);
      background: color-mix(in oklab, var(--accent) 14%, var(--bg) 86%);
      width: fit-content;
    }

    .hero__title{
      margin-top: 12px;
      max-width: 28ch;
    }

    .hero__lead{
      margin-top: 12px;
      max-width: 74ch;
      font-size: 1.02rem;
      color: var(--muted);
    }

    .hero__meta{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 16px;
    }

    .tag{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg) 60%, transparent);
      color: var(--muted);
      font-weight: 700;
      font-size: 0.88rem;
    }

    .tag svg{ width: 16px; height: 16px; fill: currentColor; opacity: .9; }

    .hero__cta{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
      align-items:center;
    }

    .card{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: color-mix(in oklab, var(--bg) 65%, transparent);
      box-shadow: var(--shadow-sm);
      padding: 18px;
    }
    .card--soft{
      background: color-mix(in oklab, var(--bg-elev) 70%, transparent);
    }

    .card__title{
      display:flex;
      align-items:center;
      gap: 10px;
      font-weight: 900;
      font-size: 1.02rem;
      margin-bottom: 10px;
      color: var(--text);
    }

    .ico{
      width: 34px; height: 34px;
      border-radius: 12px;
      display:grid;
      place-items:center;
      background: color-mix(in oklab, var(--accent) 14%, var(--bg) 86%);
      border: 1px solid color-mix(in oklab, var(--accent) 30%, transparent);
    }
    .ico svg{ width: 18px; height: 18px; fill: var(--accent); }

    .section__head{
      display:flex;
      align-items:flex-end;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 14px;
    }
    .section__sub{
      color: var(--muted);
      max-width: 78ch;
    }

    .kpi{
      display:grid;
      gap: 10px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 480px){
      .kpi{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (min-width: 1024px){
      .kpi{ grid-template-columns: repeat(4, 1fr); }
    }
    .kpi__item{
      border: 1px solid var(--border);
      border-radius: 14px;
      background: color-mix(in oklab, var(--bg) 60%, transparent);
      padding: 12px 12px;
    }
    .kpi__label{ color: var(--muted); font-weight: 700; font-size: 0.86rem; }
    .kpi__value{ font-weight: 950; font-size: 1.05rem; margin-top: 6px; }

    .split{
      display:grid;
      gap: var(--gap);
      grid-template-columns: 1fr;
    }
    @media (min-width: 768px){
      .split{ grid-template-columns: 1fr 1fr; }
    }

    .list{
      display:grid;
      gap: 10px;
    }

    .ref{
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px 12px;
      background: color-mix(in oklab, var(--bg) 64%, transparent);
      transition: transform var(--trans), background var(--trans), border-color var(--trans);
    }
    .ref:hover{
      transform: translateY(-1px);
      background: color-mix(in oklab, var(--bg-elev) 75%, transparent);
      border-color: color-mix(in oklab, var(--accent) 22%, var(--border));
    }
    .ref__top{
      display:flex;
      gap: 10px;
      align-items:flex-start;
      justify-content: space-between;
    }
    .ref__name{
      font-weight: 900;
      color: var(--text);
    }
    .ref__meta{
      margin-top: 4px;
      color: var(--muted);
      font-size: 0.92rem;
    }
    .badge{
      flex: 0 0 auto;
      font-weight: 900;
      font-size: 0.78rem;
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg) 60%, transparent);
      color: var(--muted);
    }

    .method{
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      background: color-mix(in oklab, var(--bg) 62%, transparent);
    }
    .method__head{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }
    .method__name{ font-weight: 950; color: var(--text); }
    .method__note{ color: var(--muted); font-weight: 800; font-size: 0.86rem; }

    .compare{
      width: 100%;
      border-collapse: collapse;
      overflow:hidden;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg) 64%, transparent);
    }
    .compare th, .compare td{
      padding: 12px 12px;
      border-bottom: 1px solid var(--border);
      vertical-align: top;
      text-align: left;
    }
    .compare th{
      font-size: 0.88rem;
      color: var(--muted);
      font-weight: 900;
      background: color-mix(in oklab, var(--bg-elev) 70%, transparent);
    }
    .compare tr:last-child td{ border-bottom: none; }
    .compare td strong{ color: var(--text); }
    .compare td{ color: var(--muted); }

    .callout{
      border-radius: calc(var(--radius) + 8px);
      border: 1px solid color-mix(in oklab, var(--accent) 26%, var(--border));
      background: linear-gradient(135deg,
        color-mix(in oklab, var(--accent) 16%, var(--bg) 84%),
        color-mix(in oklab, var(--bg-elev) 78%, transparent)
      );
      box-shadow: var(--shadow-sm);
      padding: 18px;
    }
    .callout__row{
      display:flex;
      flex-direction:column;
      gap: 14px;
    }
    @media(min-width:768px){
      .callout__row{ flex-direction:row; align-items:center; justify-content:space-between; }
    }
    .callout__title{ font-weight: 950; }
    .callout__desc{ max-width: 78ch; }

    /* =========================
      CSS: Form
    ========================== */
    .form{
      display:grid;
      gap: 12px;
    }
    .form__row{
      display:grid;
      gap: 12px;
      grid-template-columns: 1fr;
    }
    @media(min-width:768px){
      .form__row{ grid-template-columns: 1fr 1fr; }
    }
    label{
      display:block;
      font-weight: 900;
      color: var(--text);
      font-size: 0.92rem;
      margin-bottom: 6px;
    }
    input, textarea{
      width: 100%;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg) 70%, transparent);
      padding: 12px 12px;
      color: var(--text);
      outline: none;
      font-size: 0.98rem;
      transition: border-color var(--trans), box-shadow var(--trans), background var(--trans);
    }
    textarea{ min-height: 120px; resize: vertical; }
    input:focus-visible, textarea:focus-visible{
      box-shadow: var(--focus);
      border-color: color-mix(in oklab, var(--accent) 55%, var(--border));
      background: color-mix(in oklab, var(--bg) 82%, transparent);
    }
    .form__hint{
      color: var(--muted);
      font-size: 0.9rem;
    }
    .toast{
      margin-top: 10px;
      border-radius: 14px;
      padding: 12px 12px;
      border: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg-elev) 75%, transparent);
      color: var(--muted);
      display:none;
    }
    .toast.is-show{ display:block; }
    .toast strong{ color: var(--text); }

    /* =========================
      CSS: Footer + Back-to-top
    ========================== */
    .footer{
      padding: 26px 0 40px;
      border-top: 1px solid var(--border);
      background: color-mix(in oklab, var(--bg) 90%, transparent);
    }
    .footer__inner{
      display:flex;
      flex-direction:column;
      gap: 10px;
      align-items:flex-start;
      justify-content:space-between;
    }
    @media(min-width:768px){
      .footer__inner{ flex-direction:row; align-items:center; }
    }
    .footer__small{ color: var(--muted); font-size: 0.92rem; }

    .top{
      position: fixed;
      right: 14px;
      bottom: 14px;
      z-index: 60;
      opacity: 0;
      pointer-events: none;
      transform: translateY(6px);
      transition: opacity var(--trans), transform var(--trans);
    }
    .top.is-show{
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior: auto; }
      .btn, .nav__link, .ref{ transition: none !important; }
      .drawer__panel{ animation: none; }
      .top{ transition: none; }
    }
  </style>
</head>

<body data-theme="light">
  <!-- =========================
    Header
  ========================== -->
  <header class="header" role="banner">
    <div class="l-container header__inner">
      <a class="brand" href="#top" aria-label="Перейти к началу страницы">
        <span class="brand__mark" aria-hidden="true">
          <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
            <path d="M12 2c3.6 2.3 6 6.3 6 10.7 0 4.4-2.4 8.4-6 10.7-3.6-2.3-6-6.3-6-10.7C6 8.3 8.4 4.3 12 2zm0 4.2c-2.1 1.8-3.4 4.5-3.4 7.5S9.9 19.4 12 21.2c2.1-1.8 3.4-4.5 3.4-7.5S14.1 8 12 6.2z"/>
          </svg>
        </span>
        <span class="brand__text">
          <span class="brand__title">Ca²⁺ Diffusion Upgrade</span>
          <span class="brand__subtitle">исследование</span>
        </span>
      </a>

      <nav class="nav" aria-label="Основная навигация">
        <div class="nav__links" id="navLinks">
          <a class="nav__link" href="#about" data-anchor="about">О проекте</a>
          <a class="nav__link" href="#goals" data-anchor="goals">Цели</a>
          <a class="nav__link" href="#relevance" data-anchor="relevance">Актуальность</a>
          <a class="nav__link" href="#research" data-anchor="research">Исследования</a>
          <a class="nav__link" href="#methods" data-anchor="methods">Методы</a>
          <a class="nav__link" href="#comparison" data-anchor="comparison">Сравнение</a>
        </div>

        <div class="nav__actions">
          <button class="btn btn--icon" id="themeToggle" type="button" aria-label="Переключить тему">
            <svg class="btn__ico" id="themeIcon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-16 1.2 2.6 2.8.3-2.1 1.8.6 2.8L12 8.9 9.5 10.5l.6-2.8L8 4.9l2.8-.3L12 2z"/>
            </svg>
          </button>

          <a class="btn btn--primary" href="#contact" aria-label="Перейти к форме обратной связи">
            Связаться
            <svg class="btn__ico" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M2 4h20v16H2V4zm2 2v.5l8 6 8-6V6H4zm16 12V9.1l-7.4 5.6a1 1 0 0 1-1.2 0L4 9.1V18h16z"/>
            </svg>
          </a>

          <button class="btn btn--icon burger" id="burgerBtn" type="button" aria-label="Открыть меню" aria-controls="drawer" aria-expanded="false">
            <svg class="btn__ico" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"/>
            </svg>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <!-- =========================
    Mobile Drawer
  ========================== -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer__panel" role="dialog" aria-modal="true" aria-label="Мобильное меню">
      <div class="drawer__head">
        <span class="brand__title">Навигация</span>
        <button class="btn btn--icon" id="closeDrawer" type="button" aria-label="Закрыть меню">
          <svg class="btn__ico" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M18.3 5.7 12 12l6.3 6.3-1.4 1.4L10.6 13.4 4.3 19.7 2.9 18.3 9.2 12 2.9 5.7 4.3 4.3l6.3 6.3 6.3-6.3 1.4 1.4z"/>
          </svg>
        </button>
      </div>
      <nav class="drawer__nav" aria-label="Навигация в мобильном меню" id="drawerNav">
        <a href="#about" data-anchor="about">О проекте</a>
        <a href="#goals" data-anchor="goals">Цели</a>
        <a href="#relevance" data-anchor="relevance">Актуальность</a>
        <a href="#research" data-anchor="research">Исследования</a>
        <a href="#methods" data-anchor="methods">Методы</a>
        <a href="#comparison" data-anchor="comparison">Сравнение</a>
      </nav>
      <div class="drawer__footer">
        <span class="u-mono">UX:</span> плавные якоря, подсветка меню, тема, доступность.
      </div>
    </div>
  </div>

  <!-- =========================
    Main
  ========================== -->
  <main id="top" tabindex="-1">
    <!-- HERO -->
    <section class="hero" aria-label="Вступительный блок">
      <div class="l-container">
        <div class="hero__wrap">
          <div class="hero__content">
            <div class="pill" aria-label="Короткое позиционирование">
              <span aria-hidden="true">●</span>
              Математическая биофизика · реакция-диффузия · морфология
            </div>

            <h1 class="hero__title u-mt-sm">
              Улучшение диффузной модели кальциевого обмена в дендритном шипике
              через переход от <span class="u-accent">«шар+цилиндр»</span> к <span class="u-accent">эллиптической</span> морфологии
            </h1>

            <p class="hero__lead">
              Проект фокусируется на точности геометрии домена диффузии: вместо грубой аппроксимации шипика
              вводится параметризуемая морфология на основе эллипсоидов, что повышает корректность оценок
              пространственно-временных профилей Ca²⁺ и связи «шипик ↔ дендрит».
            </p>

            <div class="hero__meta">
              <span class="tag" aria-label="Ключевой вклад: морфология">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2 2 7l10 5 10-5-10-5zm0 8L2 5v12l10 5V10zm10-5-10 5v12l10-5V5z"/></svg>
                Эллипсоидная морфология
              </span>
              <span class="tag" aria-label="Ключевой вклад: сравнение методов">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h2v18H3V3zm16 0h2v18h-2V3zM7 13h2v8H7v-8zm4-6h2v14h-2V7zm4 3h2v11h-2V10z"/></svg>
                PDE vs стохастика
              </span>
              <span class="tag" aria-label="Ключевой вклад: воспроизводимость">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2zM5 3h14a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/></svg>
                Параметрический конвейер
              </span>
            </div>

            <div class="hero__cta">
              <a class="btn btn--primary" href="#contact" aria-label="Связаться по проекту">
                Связаться
                <svg class="btn__ico" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M20 8V7l-8 5-8-5v1l8 5 8-5zm0-4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"/>
                </svg>
              </a>

              <button class="btn" id="downloadBtn" type="button" aria-label="Скачать краткое резюме проекта (локальный файл)">
                Скачать резюме
                <svg class="btn__ico" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 3v10l4-4 1.4 1.4L12 16.8 6.6 10.4 8 9l4 4V3h0zM5 19h14v2H5v-2z"/>
                </svg>
              </button>
            </div>

            <div class="kpi u-mt-lg" aria-label="Сводка проекта">
              <div class="kpi__item">
                <div class="kpi__label">Объект</div>
                <div class="kpi__value">Дендритный шипик</div>
              </div>
              <div class="kpi__item">
                <div class="kpi__label">Модель</div>
                <div class="kpi__value">Реакция-диффузия Ca²⁺</div>
              </div>
              <div class="kpi__item">
                <div class="kpi__label">Обновление</div>
                <div class="kpi__value">Эллипсы/эллипсоиды</div>
              </div>
              <div class="kpi__item">
                <div class="kpi__label">Цель</div>
                <div class="kpi__value">Точное моделирование</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" aria-label="О проекте">
      <div class="l-container">
        <div class="section__head">
          <div>
            <h2>О проекте</h2>
            <p class="section__sub u-mt-xs">
            </p>
          </div>
        </div>

        <div class="l-grid l-grid--2">
          <div class="card">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M4 20V4h2v16H4zm14-1H8V5h10v14zm2-16H8a2 2 0 0 0-2 2v16h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/></svg>
              </span>
              Идея исследования
            </div>
            <p>
              В классических редуцированных схемах геометрия шипика часто задаётся как сфера (головка) и цилиндр (шейка).
              Это удобно, но плохо отражает асимметрию и вариативность формы. Мы вводим параметризуемую эллиптическую морфологию
              (набор эллипсоидов/сегментов), чтобы точнее оценивать диффузионные сопротивления, площади мембранных участков и
              пространственные градиенты Ca²⁺.
            </p>
          </div>

          <div class="card card--soft">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm1 5v5.4l3.2 3.2-1.4 1.4L11 13V7h2z"/></svg>
              </span>
              Что даёт апгрейд геометрии
            </div>
            <p>
              Параметрическая форма позволяет запускать серии сопоставимых экспериментов и сравнивать режимы
              «локального удержания» и «утечки в дендрит» при фиксированной кинетике. Это особенно важно для сценариев,
              где чувствительность к топологии и расположению мембранных процессов (включая внутриклеточные депо) критична.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- GOALS -->
    <section id="goals" aria-label="Цели и задачи">
      <div class="l-container">
        <div class="section__head">
          <div>
            <h2>Цели и задачи</h2>
            <p class="section__sub u-mt-xs">
            </p>
          </div>
        </div>

        <div class="split">
          <div class="card">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 2 2 7l10 5 10-5-10-5zm0 7L2 4v12l10 5V9zm10-5-10 5v12l10-5V4z"/></svg>
              </span>
              Цель
            </div>
            <p>
              Повышение точности моделирования кальциевого обмена в дендритном шипике за счёт перехода от «шар+цилиндр»
              к параметризуемой эллиптической морфологии и встраивания её в реакционно-диффузионную постановку.
            </p>
            <div class="u-mt-md">
            </div>
          </div>

          <div class="card card--soft">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 4 2 9l10 5 10-5-10-5zm0 7-10-5v9l10 5 10-5V6l-10 5z"/></svg>
              </span>
              Задачи
            </div>
            <p>
              В работе формализуется переход к эллипсоидной аппроксимации компартментов шипика, задаются граничные условия потоков
              Ca²⁺ на мембранах, а также определяется набор метрик сравнения (пики, времена спада, «связность шипик↔дендрит», AUC).
              Далее проводится сопоставление детерминированных и стохастических постановок и оценивается вклад геометрии в ошибку модели.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- RELEVANCE -->
    <section id="relevance" aria-label="Актуальность">
      <div class="l-container">
        <div class="section__head">
          <div>
            <h2>Актуальность</h2>
            <p class="section__sub u-mt-xs">
            </p>
          </div>
        </div>

        <div class="l-grid l-grid--3" aria-label="Ключевые тезисы актуальности">
          <div class="card">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 2c2.2 2.1 3.5 5 3.5 8.1 0 4.9-3.1 9.2-7.5 11.3.6-2.2 1.8-4.2 3.4-5.9 1.2-1.2 2.6-2.2 4.1-2.9-2.4-.2-4.8.7-6.6 2.5-1.2 1.2-2.1 2.7-2.5 4.3C5.1 18.1 3 14.7 3 10.9 3 6.2 6.8 2.3 11.5 2H12z"/></svg>
              </span>
              Компартментализация
            </div>
            <p>
              Шейка шипика работает как диффузионный барьер, определяя степень «изоляции» головки и скорость утечки Ca²⁺ в дендрит.
              При этом форма шейки и её поперечное сечение существенно меняют эффективное сопротивление переносу.
            </p>
          </div>

          <div class="card">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M4 12h6l2-8 2 16 2-8h6v2h-5.2l-2.8 11.2L12 9l-1.8 7H4v-2z"/></svg>
              </span>
              Пространственная неоднородность
            </div>
            <p>
              Реакция-диффузия в 3D домене чувствительна к площади мембраны, локальной кривизне и наличию узких «окон» обмена,
              что напрямую влияет на форму транзиентов и времена релаксации.
            </p>
          </div>

          <div class="card">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M7 3h10v2H7V3zm-2 4h14v2H5V7zm2 4h10v2H7v-2zm-2 4h14v2H5v-2zm2 4h10v2H7v-2z"/></svg>
              </span>
              Проверяемость и переносимость
            </div>
            <p>
              Параметризуемая эллиптическая морфология повышает переносимость модели между разными шипиками и позволяет
              проводить сопоставимые серии экспериментов без артефактов «каждый раз новая сетка — новая ошибка».
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- RESEARCH -->
    <section id="research" aria-label="Актуальные исследования">
      <div class="l-container">
        <div class="section__head">
          <div>
            <h2>Наиболее актуальные исследования</h2>
            <p class="section__sub u-mt-xs">
            </p>
          </div>
        </div>

        <div class="list" aria-label="Список исследований">
          <article class="ref" tabindex="0" aria-label="Breit и соавт., Scientific Reports, 2018">
            <div class="ref__top">
              <div>
                <div class="ref__name">Spine-to-Dendrite Calcium Modeling… (Breit, Kessler, Stepniewski, Vlachos, Queisser)</div>
                <div class="ref__meta">Scientific Reports, 2018 · фокус на позиционировании ER с RyR и влиянии на связь «шипик↔дендрит».</div>
              </div>
            </div>
          </article>

          <article class="ref" tabindex="0" aria-label="Rosado и соавт., PLOS Computational Biology, 2022">
            <div class="ref__top">
              <div>
                <div class="ref__name">All-or-Nothing switch в спайнах с аппаратом шипика</div>
                <div class="ref__meta">PLOS Computational Biology, 2022 · пороговые режимы коммуникации при наличии аппарата шипика/ER.</div>
              </div>
            </div>
          </article>

          <article class="ref" tabindex="0" aria-label="Bell и соавт., J Gen Physiol, 2019">
            <div class="ref__top">
              <div>
                <div class="ref__name">Geometry & spine apparatus govern spatiotemporal Ca²⁺ dynamics</div>
                <div class="ref__meta">Journal of General Physiology, 2019 · геометрия и организация внутренних структур как детерминанты динамики.</div>
              </div>
            </div>
          </article>

          <article class="ref" tabindex="0" aria-label="Hepburn и соавт., STEPS, 2012">
            <div class="ref__top">
              <div>
                <div class="ref__name">STEPS: stochastic reaction-diffusion в реалистичных морфологиях</div>
                <div class="ref__meta">BMC Systems Biology, 2012 · практический инструмент для пространственной стохастики на тетраэдральных сетках.</div>
              </div>
            </div>
          </article>
        </div>


      </div>
    </section>

    <!-- METHODS -->
    <section id="methods" aria-label="Проблема и существующие методы">
      <div class="l-container">
        <div class="section__head">
          <div>
            <h2>Проблема и существующие методы</h2>
            <p class="section__sub u-mt-xs">
            </p>
          </div>
        </div>

        <div class="split">
          <div class="card">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 2a6 6 0 0 1 6 6c0 2.4-1.4 4.4-3.4 5.4 2.7.8 4.7 3.3 4.7 6.3V22H5v-2.3c0-3 2-5.5 4.7-6.3A5.99 5.99 0 0 1 6 8a6 6 0 0 1 6-6zm0 2a4 4 0 0 0-4 4c0 2.2 1.8 4 4 4s4-1.8 4-4a4 4 0 0 0-4-4z"/></svg>
              </span>
              Формулировка проблемы
            </div>
            <p>
              В редуцированных схемах шипик задаётся как «головка-сфера + шейка-цилиндр». Такая модель плохо отражает эксцентриситет,
              плавные сужения и асимметрию, что приводит к систематической ошибке в оценках сопротивления переносу, площади мембраны
              и, как следствие, временных характеристик транзиента Ca²⁺.
            </p>
            <p class="u-mt-md">
              Нужен параметризуемый, но гибкий домен диффузии, позволяющий сравнивать формы без потери воспроизводимости.
            </p>
          </div>

          <div class="card card--soft" aria-label="Краткая классификация подходов">
            <div class="list">
              <div class="method" tabindex="0" aria-label="Компартментные модели">
                <div class="method__head">
                  <div class="method__name">Компартментные модели</div>
                  <div class="method__note">быстро, интерпретируемо</div>
                </div>
                <p>
                  Эффективные параметры связи «шипик↔дендрит»; хорошо для анализа, но слабая геометрическая выразительность.
                </p>
              </div>

              <div class="method" tabindex="0" aria-label="Детерминированные PDE">
                <div class="method__head">
                  <div class="method__name">Детерминированные PDE (реакция-диффузия)</div>
                  <div class="method__note">точнее геометрия</div>
                </div>
                <p>
                  Концентрации как поля в 3D домене; строгий учёт границ и потоков, но рост стоимости при усложнении формы.
                </p>
              </div>

              <div class="method" tabindex="0" aria-label="Стохастические пространственные модели">
                <div class="method__head">
                  <div class="method__name">Стохастические пространственные модели</div>
                  <div class="method__note">вариабельность</div>
                </div>
                <p>
                  Важны при малых числах молекул; чувствительны к реализации мембранных процессов и качеству геометрии/границ.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- COMPARISON -->
    <section id="comparison" aria-label="Анализ и сравнение">
      <div class="l-container">
        <div class="section__head">
          <div>
            <h2>Анализ и сравнение</h2>
            <p class="section__sub u-mt-xs">
            </p>
          </div>
        </div>

        <div class="card" role="region" aria-label="Таблица сравнения подходов">
          <table class="compare">
            <thead>
              <tr>
                <th>Подход</th>
                <th>Сильные стороны</th>
                <th>Слабые стороны</th>
                <th>Что даёт эллиптическая морфология</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Компартменты</strong></td>
                <td>Быстро, прозрачно, легко интерпретировать параметры связи</td>
                <td>Слабая чувствительность к эксцентриситету и локальной кривизне</td>
                <td>Уточнение эффективных параметров через более реалистичную геометрию</td>
              </tr>
              <tr>
                <td><strong>PDE (дет.)</strong></td>
                <td>Строгий учёт домена и границ, удобен для чувствительности</td>
                <td>Цена возрастает при усложнении формы и числа мембран</td>
                <td>Гладкая параметрическая граница → меньше сеточных артефактов, лучше сравнимость</td>
              </tr>
              <tr>
                <td><strong>Стохастика</strong></td>
                <td>Вариабельность, малые числа молекул, редкие события</td>
                <td>Требовательна к реализации граничных потоков, дороже по времени</td>
                <td>Аналитическая геометрия упрощает корректное описание отражений/поглощения на границах</td>
              </tr>
            </tbody>
          </table>

          <p class="u-mt-md">
            Практический вывод: эллиптическая параметризация выступает «универсальным улучшением» домена и полезна во всех классах
            решателей, при этом особенно ценна для чистых сравнений морфологии при фиксированной кинетике.
          </p>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" aria-label="Форма обратной связи">
      <div class="l-container">
        <div class="section__head">
          <div>
            <h2>Связаться</h2>
            <p class="section__sub u-mt-xs">
              <!-- Напишите, что именно нужно: интеграция эллиптической геометрии, валидация, метрики, постановка PDE/стохастики. -->
            </p>
          </div>
        </div>

        <div class="l-grid l-grid--2">
          <div class="card">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-4.4 0-8 2.2-8 5v1h16v-1c0-2.8-3.6-5-8-5z"/></svg>
              </span>
              Быстрый запрос
            </div>

            <form class="form" id="contactForm" novalidate>
              <div class="form__row">
                <div>
                  <label for="name">Имя</label>
                  <input id="name" name="name" type="text" autocomplete="name" placeholder="Например, Анна" aria-label="Ваше имя" required />
                </div>
                <div>
                  <label for="email">Email</label>
                  <input id="email" name="email" type="email" autocomplete="email" placeholder="name@example.com" aria-label="Ваш email" required />
                </div>
              </div>

              <div>
                <label for="topic">Тема</label>
                <input id="topic" name="topic" type="text" placeholder="Интеграция эллипсоидов / метрики / валидация" aria-label="Тема сообщения" required />
              </div>

              <div>
                <label for="message">Сообщение</label>
                <textarea id="message" name="message" placeholder="Коротко опишите задачу и контекст…" aria-label="Текст сообщения" required></textarea>
              </div>

              <div class="hero__cta" style="margin-top:0">
                <button class="btn btn--primary" type="submit" aria-label="Отправить сообщение">
                  Отправить
                  <svg class="btn__ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M2 21 23 12 2 3v7l15 2-15 2v7z"/></svg>
                </button>
              </div>

              <div class="toast" id="toast" role="status" aria-live="polite"></div>
            </form>
          </div>

          <div class="card card--soft">
            <div class="card__title">
              <span class="ico" aria-hidden="true">
                <svg viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 5-7 13-7 13S5 14 5 9a7 7 0 0 1 7-7zm0 9a2 2 0 1 0-2-2 2 2 0 0 0 2 2z"/></svg>
              </span>
              Что можно обсудить
            </div>
            <p>
              Внедрение эллиптической морфологии в существующую систему, определение параметров эллипсоидов под ваши данные,
              выбор решателя (PDE/стохастика), метрики сравнения и протокол валидации. Также можно согласовать формат
              отчёта/артефактов: таблицы метрик, профили во времени, экспорт параметров и сценариев.
            </p>

          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- =========================
    Footer
  ========================== -->

  <!-- Back to top -->
  <div class="top" id="topBtnWrap">
    <button class="btn btn--icon" id="topBtn" type="button" aria-label="Наверх">
      <svg class="btn__ico" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 5 4 13l1.4 1.4L11 8.8V20h2V8.8l5.6 5.6L20 13l-8-8z"/>
      </svg>
    </button>
  </div>

  <script>
    /* =========================
      JS: Helpers
    ========================== */
    const $ = (sel, root = document) => root.querySelector(sel);
    const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    /* =========================
      JS: Theme (localStorage + prefers)
    ========================== */
    const THEME_KEY = "landing_theme";
    const rootEl = document.body;
    const themeToggle = $("#themeToggle");
    const themeIcon = $("#themeIcon");

    function getPreferredTheme(){
      const stored = localStorage.getItem(THEME_KEY);
      if(stored === "light" || stored === "dark") return stored;
      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      return prefersDark ? "dark" : "light";
    }

    function setTheme(theme){
      rootEl.setAttribute("data-theme", theme);
      localStorage.setItem(THEME_KEY, theme);
      // Icon swap (sun/moon-ish)
      const isDark = theme === "dark";
      themeIcon.innerHTML = isDark
        ? '<path d="M21 14.5A8 8 0 1 1 9.5 3a6.5 6.5 0 0 0 11.5 11.5z"/>'
        : '<path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-16 1.2 2.6 2.8.3-2.1 1.8.6 2.8L12 8.9 9.5 10.5l.6-2.8L8 4.9l2.8-.3L12 2z"/>';
      themeToggle.setAttribute("aria-label", isDark ? "Переключить на светлую тему" : "Переключить на тёмную тему");
    }

    setTheme(getPreferredTheme());
    themeToggle.addEventListener("click", () => {
      const next = rootEl.getAttribute("data-theme") === "dark" ? "light" : "dark";
      setTheme(next);
    });

    /* =========================
      JS: Burger / Drawer
    ========================== */
    const burgerBtn = $("#burgerBtn");
    const drawer = $("#drawer");
    const closeDrawerBtn = $("#closeDrawer");
    const drawerPanel = $(".drawer__panel", drawer);

    function openDrawer(){
      drawer.setAttribute("aria-hidden", "false");
      burgerBtn.setAttribute("aria-expanded", "true");
      // trap focus
      const focusable = $$('a, button, input, textarea, [tabindex]:not([tabindex="-1"])', drawerPanel);
      (focusable[0] || closeDrawerBtn).focus();
      document.body.style.overflow = "hidden";
    }

    function closeDrawer(){
      drawer.setAttribute("aria-hidden", "true");
      burgerBtn.setAttribute("aria-expanded", "false");
      document.body.style.overflow = "";
      burgerBtn.focus();
    }

    burgerBtn.addEventListener("click", openDrawer);
    closeDrawerBtn.addEventListener("click", closeDrawer);
    drawer.addEventListener("click", (e) => {
      if(e.target === drawer) closeDrawer();
    });
    document.addEventListener("keydown", (e) => {
      if(drawer.getAttribute("aria-hidden") === "false" && e.key === "Escape") closeDrawer();
    });

    // Minimal focus trap
    drawer.addEventListener("keydown", (e) => {
      if(drawer.getAttribute("aria-hidden") === "true") return;
      if(e.key !== "Tab") return;

      const focusable = $$('a, button, input, textarea, [tabindex]:not([tabindex="-1"])', drawerPanel)
        .filter(el => !el.hasAttribute("disabled") && el.offsetParent !== null);

      if(focusable.length === 0) return;

      const first = focusable[0];
      const last = focusable[focusable.length - 1];

      if(e.shiftKey && document.activeElement === first){
        e.preventDefault();
        last.focus();
      } else if(!e.shiftKey && document.activeElement === last){
        e.preventDefault();
        first.focus();
      }
    });

    // Close drawer on nav click
    $$("#drawerNav a").forEach(a => {
      a.addEventListener("click", () => closeDrawer());
    });

    /* =========================
      JS: Active nav highlight (IntersectionObserver)
    ========================== */
    const sections = $$("main section[id]");
    const navLinks = $$("#navLinks .nav__link");
    const drawerLinks = $$("#drawerNav a");

    function setActive(anchor){
      navLinks.forEach(l => l.classList.toggle("is-active", l.dataset.anchor === anchor));
      drawerLinks.forEach(l => l.classList.toggle("is-active", l.dataset.anchor === anchor));
    }

    const io = new IntersectionObserver((entries) => {
      // choose the most visible entry
      const visible = entries
        .filter(e => e.isIntersecting)
        .sort((a,b) => b.intersectionRatio - a.intersectionRatio)[0];
      if(visible){
        setActive(visible.target.id);
      }
    }, {
      root: null,
      rootMargin: `-${clamp(parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-h")) || 64, 56, 80)}px 0px -65% 0px`,
      threshold: [0.08, 0.15, 0.22, 0.35, 0.5, 0.65]
    });

    sections.forEach(s => io.observe(s));

    /* =========================
      JS: Back-to-top button
    ========================== */
    const topWrap = $("#topBtnWrap");
    const topBtn = $("#topBtn");

    function onScroll(){
      const y = window.scrollY || document.documentElement.scrollTop;
      topWrap.classList.toggle("is-show", y > 520);
    }
    window.addEventListener("scroll", onScroll, { passive: true });
    onScroll();

    topBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
      $("#top")?.focus?.();
    });

    /* =========================
      JS: Download "resume" (local blob)
    ========================== */
    const downloadBtn = $("#downloadBtn");
    downloadBtn.addEventListener("click", () => {
      const content =
`Проект: Улучшение диффузной модели кальциевого обмена в дендритном шипике
Фокус: переход от геометрии "шар+цилиндр" к параметризуемой эллиптической морфологии (эллипсоиды/сегменты)

Что делаем:
— Морфология как объект модели: один сценарий и кинетика, разные геометрии.
— Реакция-диффузия Ca²⁺ с граничными потоками (мембраны) + единые метрики сравнения.
— Сравнение подходов: компартменты vs PDE vs стохастика, оценка вклада геометрии.

Метрики:
— Peak Ca²⁺, Tau decay, AUC, показатель связи "шипик↔дендрит".

CTA:
— Обсудить интеграцию: форма обратной связи на лендинге.
`;
      const blob = new Blob([content], { type: "text/plain;charset=utf-8" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "Ca2_spine_model_project_summary.txt";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    /* =========================
      JS: Copy spec to clipboard
    ========================== */
    const copySpecBtn = $("#copySpecBtn");
    copySpecBtn.addEventListener("click", async () => {
      const spec = 'Morphology(type="simple"|"ellipses") -> Domain -> Model(kinetics, boundaryFlux) -> Solver(mode="PDE"|"stochastic") -> Result(metrics) -> Comparator(report)';
      try{
        await navigator.clipboard.writeText(spec);
        showToast("Скопировано в буфер: <strong>мини-спецификация</strong>.");
      }catch{
        // Fallback
        const ta = document.createElement("textarea");
        ta.value = spec;
        ta.setAttribute("readonly", "");
        ta.style.position = "fixed";
        ta.style.left = "-9999px";
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
        showToast("Скопировано (fallback): <strong>мини-спецификация</strong>.");
      }
    });

    /* =========================
      JS: Contact form (local validation + mailto draft)
    ========================== */
    const form = $("#contactForm");
    const toast = $("#toast");
    const prefillBtn = $("#prefillBtn");

    function showToast(html){
      toast.innerHTML = html;
      toast.classList.add("is-show");
      setTimeout(() => toast.classList.remove("is-show"), 5200);
    }

    function validateEmail(email){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.trim());
    }

    function buildMailto({name, email, topic, message}){
      const subject = encodeURIComponent(`[Ca²⁺ Spine] ${topic}`.trim());
      const body = encodeURIComponent(
`Имя: ${name}
Email: ${email}

Сообщение:
${message}
`);
      return `mailto:?subject=${subject}&body=${body}`;
    }

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const name = $("#name").value.trim();
      const email = $("#email").value.trim();
      const topic = $("#topic").value.trim();
      const message = $("#message").value.trim();

      let ok = true;

      if(name.length < 2){ ok = false; $("#name").focus(); }
      else if(!validateEmail(email)){ ok = false; $("#email").focus(); }
      else if(topic.length < 3){ ok = false; $("#topic").focus(); }
      else if(message.length < 10){ ok = false; $("#message").focus(); }

      if(!ok){
        showToast("Проверьте поля: <strong>имя</strong>, <strong>email</strong>, <strong>тема</strong> и <strong>сообщение</strong>.");
        return;
      }

      showToast("Готово: открываю <strong>черновик письма</strong> (mailto).");
      const href = buildMailto({name, email, topic, message});
      window.location.href = href;

      // keep fields for user; do not reset automatically (UX-friendly)
    });

    prefillBtn.addEventListener("click", () => {
      $("#name").value = "Анна";
      $("#email").value = "anna@example.com";
      $("#topic").value = "Интеграция эллипсоидной морфологии в существующую RD-модель";
      $("#message").value =
        "Нужно заменить геометрию 'шар+цилиндр' на параметризуемые эллипсоиды для шейки и головки. " +
        "Интересуют метрики сравнения (peak/tau/AUC/связность шипик↔дендрит) и подход к валидации на наших данных. " +
        "Можно ли предложить структуру классов/модулей и план миграции?";
      showToast("Заполнено примером. Отредактируйте и нажмите <strong>Отправить</strong>.");
    });

    /* =========================
      JS: Enhance anchor click (focus management)
    ========================== */
    function handleAnchorClick(e){
      const a = e.target.closest('a[href^="#"]');
      if(!a) return;
      const id = a.getAttribute("href").slice(1);
      if(!id) return;
      const target = document.getElementById(id);
      if(!target) return;

      // Let native smooth-scroll happen, then focus for accessibility
      setTimeout(() => {
        target.setAttribute("tabindex", "-1");
        target.focus({ preventScroll: true });
      }, 250);
    }
    document.addEventListener("click", handleAnchorClick);

    /* =========================
      JS: Footer year
    ========================== */
    $("#year").textContent = String(new Date().getFullYear());
  </script>
</body>
</html>
